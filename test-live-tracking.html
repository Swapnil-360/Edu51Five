<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semester Tracking Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #1e40af, #1e3a8a);
            color: white;
            min-height: 100vh;
        }
        .dashboard {
            background: rgba(30, 58, 138, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .progress-bar {
            width: 200px;
            height: 8px;
            background: #1e40af;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #60a5fa, #93c5fd, #ffffff);
            transition: width 0.5s ease;
            animation: shimmer 3s ease-in-out infinite;
        }
        @keyframes shimmer {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 1; transform: scaleX(1.02); }
        }
        .clock {
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .milestone.urgent {
            color: #fed7aa;
            animation: urgent-blink 2s ease-in-out infinite;
        }
        @keyframes urgent-blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <h1>ðŸŽ“ Real-time Semester Tracking System Test</h1>
    
    <div class="dashboard">
        <h2>ðŸ“… Live Clock (Bangladesh Standard Time)</h2>
        <div class="clock">
            <div id="current-date"></div>
            <div id="current-time"></div>
        </div>
    </div>

    <div class="dashboard">
        <h2>ðŸ“Š Semester Progress</h2>
        <div id="semester-info">
            <p><strong>Semester:</strong> <span id="semester-name"></span></p>
            <p><strong>Week:</strong> <span id="semester-week"></span></p>
            <p><strong>Current Phase:</strong> <span id="current-phase"></span></p>
        </div>
        
        <div>
            <p>Progress: <span id="progress-percentage"></span>%</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
    </div>

    <div class="dashboard">
        <h2>ðŸŽ¯ Next Milestone</h2>
        <div id="milestone-info">
            <p class="milestone" id="next-milestone"></p>
            <p id="days-to-milestone"></p>
        </div>
    </div>

    <div class="dashboard">
        <h2>ðŸ“‹ Academic Calendar</h2>
        <div id="semester-timeline">
            <p><strong>Semester Start:</strong> July 15, 2025</p>
            <p><strong>ðŸ”´ Mid-term Exams:</strong> September 14-24, 2025 (CURRENT)</p>
            <p><strong>Final Exams:</strong> December 1-15, 2025</p>
            <p><strong>Semester End:</strong> December 15, 2025</p>
            <div style="margin-top: 10px; padding: 10px; background: rgba(239, 68, 68, 0.2); border-left: 4px solid #ef4444; border-radius: 4px;">
                <strong>ðŸ“… Current Mid-term Schedule:</strong><br>
                â€¢ CSE 319: Sept 14 (Sunday)<br>
                â€¢ CSE 327: Sept 16 (Tuesday)<br>
                â€¢ CSE 407: Sept 18 (Thursday)<br>
                â€¢ CSE 417: Sept 22 (Monday)<br>
                â€¢ CSE 351: Sept 24 (Wednesday)
            </div>
        </div>
    </div>

    <script type="module">
        // Simulate semester configuration
        const getCurrentSemesterStatus = () => {
            const now = new Date();
            const semesterStart = new Date('2025-07-15');
            const midtermStart = new Date('2025-09-14');  // ACTUAL MID-TERM START
            const midtermEnd = new Date('2025-09-24');    // ACTUAL MID-TERM END  
            const finalsStart = new Date('2025-12-01');
            const semesterEnd = new Date('2025-12-15');
            
            const totalDuration = semesterEnd - semesterStart;
            const elapsed = now - semesterStart;
            const progressPercentage = Math.max(0, Math.min(100, Math.round((elapsed / totalDuration) * 100)));
            
            let currentPhase = 'Regular Classes';
            let nextMilestone = 'Mid-term Exams';
            let daysToMilestone = Math.ceil((midtermStart - now) / (1000 * 60 * 60 * 24));
            
            if (now >= midtermStart && now <= midtermEnd) {
                currentPhase = 'Mid-term Examinations'; // WE ARE HERE NOW!
                nextMilestone = 'Final Exams';
                daysToMilestone = Math.ceil((finalsStart - now) / (1000 * 60 * 60 * 24));
            } else if (now > midtermEnd && now < finalsStart) {
                currentPhase = 'Final Exam Preparation';
                nextMilestone = 'Final Exams';
                daysToMilestone = Math.ceil((finalsStart - now) / (1000 * 60 * 60 * 24));
            } else if (now >= finalsStart) {
                currentPhase = 'Final Examinations';
                nextMilestone = 'Winter Break';
                daysToMilestone = Math.ceil((semesterEnd - now) / (1000 * 60 * 60 * 24));
            }
            
            const semesterWeek = Math.max(1, Math.ceil((elapsed) / (1000 * 60 * 60 * 24 * 7)));
            
            return {
                semesterName: 'Fall 2025',
                semesterWeek,
                currentPhase,
                nextMilestone,
                daysToMilestone: Math.max(0, daysToMilestone),
                progressPercentage
            };
        };

        const getBangladeshTime = () => {
            return new Date().toLocaleString('en-US', { timeZone: 'Asia/Dhaka' });
        };

        const updateDashboard = () => {
            const status = getCurrentSemesterStatus();
            const now = new Date();
            
            // Update clock
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-BD', {
                timeZone: 'Asia/Dhaka',
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('current-time').textContent = now.toLocaleTimeString('en-BD', {
                timeZone: 'Asia/Dhaka',
                hour12: true
            }) + ' BST';
            
            // Update semester info
            document.getElementById('semester-name').textContent = status.semesterName;
            document.getElementById('semester-week').textContent = status.semesterWeek;
            document.getElementById('current-phase').textContent = status.currentPhase;
            document.getElementById('progress-percentage').textContent = status.progressPercentage;
            document.getElementById('progress-fill').style.width = status.progressPercentage + '%';
            
            // Update milestone
            const milestoneElement = document.getElementById('next-milestone');
            milestoneElement.textContent = status.nextMilestone;
            milestoneElement.className = status.daysToMilestone <= 7 ? 'milestone urgent' : 'milestone';
            
            document.getElementById('days-to-milestone').textContent = 
                status.daysToMilestone > 0 
                ? `${status.daysToMilestone} days remaining`
                : 'Active now!';
        };

        // Update every second
        updateDashboard();
        setInterval(updateDashboard, 1000);
    </script>
</body>
</html>